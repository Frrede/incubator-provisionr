
Axemblr Provisionr
==================

Pool management service for 10s or 100s of virtual machines.

Features
--------

* Can provision 10s or 100s of VMs across multiple clouds
* Fully persistent granular internal workflow
* Can be restarted while starting VMs
* Has a modular architecture based on OSGi and Apache Karaf

License
-------

Apache License Version 2.0
http://apache.org/licenses/LICENSE-2.0.txt

API Endpoints
-------------

GET /pools - list all pools
GET /pools/<id> - retrieve a specific pool
POST /pools - create new pool
DELETE /pools/<id> - delete pool

See com.axemblr.provisionr.api.pool.Pool to understand the
object structure for the POST request.

How to build?
-------------

Maven as usual:

$ mvn clean install 

This will download dependencies, compile the sources and run
unit tests and some of the integration tests. 

How to create a distribution?
-----------------------------

You can build a binary release by running:

$ mvn -DskipTests -Pwith-assembly -P\!with-integration-tests install

And you will find the .tar.gz file in:

karaf/assembly/target/com.axemblr.provisionr-*.tar.gz

How to test?
------------

All the unit tests are executed as part of the normal build

You can run tests against a set of cloud providers by running:

$ mvn -Pwith-live-tests clean install 

Your credentials should be in ~/.m2/settings.xml or sent as system properties

<profiles>
    <profile>
        <id>provisionr-credentials</id>
        <activation><activeByDefault>true</activeByDefault></activation>
        <properties>
            <test.amazon.provider.accessKey>xxxxx</test.amazon.provider.accessKey>
            <test.amazon.provider.secretKey>xxxxx</test.amazon.provider.secretKey>
            <test.amazon.provider.region>us-east-1</test.amazon.provider.region>
        </properties>
    </profile>
</profiles>

How to run?
-----------

$ tar xvfz com.axemblr.provisionr-*.tar.gz
$ cd com.axemblr.provisionr*
$ bin/karaf

TODO: do more branding, add commands to create pool, show how to use the REST endpoint 

Thanks! 

